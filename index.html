<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
  </head>
  <body
    oncopy="return false"
    oncut="return false"
    onpaste="return false"
    style="margin: 0 0 0 0"
  >
    <script defer>
      function modifyUrl(urlString) {
        try {
          if (urlString.indexOf("takahashinguyen.github.io") !== -1)
            return urlString.replace(
              "takahashinguyen.github.io/",
              "takahashinguyen.github.io/TakahashiNguyen/"
            );
          else return urlString.replace("3002/", "3002/TakahashiNguyen/");
        } catch (error) {
          return urlString;
        }
      }

      function getBodyContent(htmlString) {
        const parser = new DOMParser();
        const doc = parser.parseFromString(htmlString, "text/html");
        const bodyElement = doc.body;
        const headElement = doc.head;

        const childBodyElements = Array.from(bodyElement.childNodes).filter(
          (child) => child.nodeType === Node.ELEMENT_NODE
        );
        const childHeadElements = Array.from(headElement.childNodes).filter(
          (child) => child.nodeType === Node.ELEMENT_NODE
        );

        childBodyElements.forEach((child) => document.body.appendChild(child));
        childHeadElements.forEach((child) => {
          child.href = modifyUrl(child.href);
          if (child instanceof HTMLScriptElement) {
            var tagURL = modifyUrl(child.src);
            const tag = document.createElement("script");
            fetch(tagURL)
              .then((response) => response.text())
              .then((data) => {
                tag.textContent = data;
                if (data.indexOf("scriptDOMContentLoaded") !== -1) {
                  scriptDOMContentLoaded()
                }
              })
              .catch((error) => {
                tag.src = tagURL;
              });
            document.head.appendChild(tag);
          } else document.head.appendChild(child);
        });
      }

      fetch("TakahashiNguyen/index.html")
        .then((response) => response.text())
        .then((data) => {
          getBodyContent(data);
        })
        .catch((error) => {
          console.error("Error fetching content:", error);
        });
    </script>
  </body>
</html>
